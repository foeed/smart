{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Nav,NavDropdown}from'react-bootstrap';import{useHistory}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";const CategoryMenu=()=>{const[categories,setCategories]=useState([]);const history=useHistory();useEffect(()=>{const fetchData=async()=>{try{const response=await fetch('/api/category_menu/');const data=await response.json();if(typeof data==='object'&&data.title){// Convert the object into an array with a single element\nsetCategories([data]);}else if(Array.isArray(data)){setCategories(data);}else{console.error('Invalid data format:',data);}}catch(error){console.error('Error fetching category data:',error);}};fetchData();},[]);return/*#__PURE__*/_jsx(Nav,{className:\"category-menu\",children:categories.map((category,index)=>/*#__PURE__*/_jsx(NavDropdown,{title:/*#__PURE__*/_jsx(\"span\",{className:\"category-title\",children:\"\".concat(category.title,\" \")}),children:category.types&&Array.isArray(category.types)?category.types.map((type,typeIndex)=>/*#__PURE__*/_jsx(NavDropdown.Item,{onClick:()=>history.push(\"/type/\".concat(type)),children:type},typeIndex)):/*#__PURE__*/_jsx(NavDropdown.Item,{disabled:true,children:\"No items available\"})},index))});};export default CategoryMenu;","map":{"version":3,"names":["React","useState","useEffect","Nav","NavDropdown","useHistory","jsx","_jsx","CategoryMenu","categories","setCategories","history","fetchData","response","fetch","data","json","title","Array","isArray","console","error","className","children","map","category","index","concat","types","type","typeIndex","Item","onClick","push","disabled"],"sources":["/home/foeed/smart-tek/proshop_django/frontend/src/components/menu.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Nav, NavDropdown } from 'react-bootstrap';\nimport { useHistory } from 'react-router-dom';\n\nconst CategoryMenu = () => {\n  const [categories, setCategories] = useState([]);\n  const history = useHistory();\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetch('/api/category_menu/');\n        const data = await response.json();\n\n        if (typeof data === 'object' && data.title) {\n          // Convert the object into an array with a single element\n          setCategories([data]);\n        } else if (Array.isArray(data)) {\n          setCategories(data);\n        } else {\n          console.error('Invalid data format:', data);\n        }\n      } catch (error) {\n        console.error('Error fetching category data:', error);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  return (\n    <Nav className=\"category-menu\">\n      {categories.map((category, index) => (\n        <NavDropdown key={index} title={<span className=\"category-title\">{`${category.title} `}</span>}>\n          {category.types && Array.isArray(category.types) ? (\n            category.types.map((type, typeIndex) => (\n                <NavDropdown.Item  \n\n                    key={typeIndex}\n                          onClick={() => history.push(`/type/${type}`)}\n                        >\n                          {type}\n                </NavDropdown.Item>\n              ))\n          ) : (\n            <NavDropdown.Item disabled>No items available</NavDropdown.Item>\n          )}\n        </NavDropdown>\n      ))}\n    </Nav>\n  );\n};\n\nexport default CategoryMenu;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,GAAG,CAAEC,WAAW,KAAQ,iBAAiB,CAClD,OAASC,UAAU,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE9C,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAAAU,OAAO,CAAGN,UAAU,CAAC,CAAC,CAE5BH,SAAS,CAAC,IAAM,CACd,KAAM,CAAAU,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,qBAAqB,CAAC,CACnD,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAElC,GAAI,MAAO,CAAAD,IAAI,GAAK,QAAQ,EAAIA,IAAI,CAACE,KAAK,CAAE,CAC1C;AACAP,aAAa,CAAC,CAACK,IAAI,CAAC,CAAC,CACvB,CAAC,IAAM,IAAIG,KAAK,CAACC,OAAO,CAACJ,IAAI,CAAC,CAAE,CAC9BL,aAAa,CAACK,IAAI,CAAC,CACrB,CAAC,IAAM,CACLK,OAAO,CAACC,KAAK,CAAC,sBAAsB,CAAEN,IAAI,CAAC,CAC7C,CACF,CAAE,MAAOM,KAAK,CAAE,CACdD,OAAO,CAACC,KAAK,CAAC,+BAA+B,CAAEA,KAAK,CAAC,CACvD,CACF,CAAC,CAEDT,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEL,IAAA,CAACJ,GAAG,EAACmB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC3Bd,UAAU,CAACe,GAAG,CAAC,CAACC,QAAQ,CAAEC,KAAK,gBAC9BnB,IAAA,CAACH,WAAW,EAAaa,KAAK,cAAEV,IAAA,SAAMe,SAAS,CAAC,gBAAgB,CAAAC,QAAA,IAAAI,MAAA,CAAKF,QAAQ,CAACR,KAAK,MAAU,CAAE,CAAAM,QAAA,CAC5FE,QAAQ,CAACG,KAAK,EAAIV,KAAK,CAACC,OAAO,CAACM,QAAQ,CAACG,KAAK,CAAC,CAC9CH,QAAQ,CAACG,KAAK,CAACJ,GAAG,CAAC,CAACK,IAAI,CAAEC,SAAS,gBAC/BvB,IAAA,CAACH,WAAW,CAAC2B,IAAI,EAGPC,OAAO,CAAEA,CAAA,GAAMrB,OAAO,CAACsB,IAAI,UAAAN,MAAA,CAAUE,IAAI,CAAE,CAAE,CAAAN,QAAA,CAE5CM,IAAI,EAHNC,SAIS,CACnB,CAAC,cAEJvB,IAAA,CAACH,WAAW,CAAC2B,IAAI,EAACG,QAAQ,MAAAX,QAAA,CAAC,oBAAkB,CAAkB,CAChE,EAbeG,KAcL,CACd,CAAC,CACC,CAAC,CAEV,CAAC,CAED,cAAe,CAAAlB,YAAY"},"metadata":{},"sourceType":"module"}